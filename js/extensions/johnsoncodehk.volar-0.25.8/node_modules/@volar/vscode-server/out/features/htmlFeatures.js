"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.register = void 0;
const shared_1 = require("@volar/shared");
function register(connection, documents, noStateLs) {
    connection.onDocumentFormatting(handler => {
        const document = documents.get(handler.textDocument.uri);
        if (!document)
            return;
        return noStateLs.doFormatting(document, handler.options);
    });
    connection.onFoldingRanges(handler => {
        const document = documents.get(handler.textDocument.uri);
        if (!document)
            return;
        return noStateLs.getFoldingRanges(document);
    });
    connection.languages.onLinkedEditingRange(handler => {
        const document = documents.get(handler.textDocument.uri);
        if (!document)
            return;
        return noStateLs.findLinkedEditingRanges(document, handler.position);
    });
    connection.onRequest(shared_1.TagCloseRequest.type, handler => {
        const document = documents.get(handler.textDocument.uri);
        if (!document)
            return;
        return noStateLs.doTagComplete(document, handler.position);
    });
}
exports.register = register;
//# sourceMappingURL=htmlFeatures.js.map